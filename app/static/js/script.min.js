async function loadData(){let t=await fetch("http://localhost:8000/api/sales/"),e=await t.json();new Chart(document.getElementById("monthlysales"),{type:"line",data:{labels:e.tsgraph.glabels,datasets:[{label:"Sales (PHP)",data:e.tsgraph.gdata,borderColor:"rgba(104, 243, 172, 0.8)",pointHoverRadius:3}]},options:{plugins:{legend:{display:!1}},scales:{y:{grid:{color:"rgba(181, 164, 173, 0.8)"},ticks:{color:"white",font:{family:"Montserrat"}}},x:{grid:{color:"rgba(181, 164, 173, 0.8)"},ticks:{color:"white",font:{family:"Montserrat"}}}}}}),new Chart(document.getElementById("topMonth"),{type:"bar",data:{labels:e.top_this_month.labels,datasets:[{backgroundColor:["#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850"],data:e.top_this_month.data}]},options:{indexAxis:"y",plugins:{legend:{display:!1}},scales:{y:{grid:{display:!1},ticks:{color:"white",font:{family:"Montserrat"}}},x:{grid:{display:!1},ticks:{color:"white",font:{family:"Montserrat"}}}}}}),new Chart(document.getElementById("topAll"),{type:"bar",data:{labels:e.top_all_time.labels,datasets:[{backgroundColor:["#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850"],data:e.top_all_time.data}]},options:{indexAxis:"y",plugins:{legend:{display:!1}},scales:{y:{grid:{display:!1},ticks:{color:"white",font:{family:"Montserrat"}}},x:{grid:{display:!1},ticks:{color:"white",font:{family:"Montserrat"}}}}}}),new Chart(document.getElementById("pie"),{type:"doughnut",data:{labels:["9 inch","12 inch"],datasets:[{backgroundColor:["#3e95cd","#8e5ea2"],data:Object.values(e.sold_sizes)}]},options:{plugins:{legend:{labels:{color:"white",font:{family:"Montserrat"}}}}}}),document.getElementById("no-monthly-sale").innerHTML=e.sales_this_month,document.getElementById("no-sales-growth").innerHTML=e.sales_growth,document.getElementById("no-total-sales").innerHTML=e.total_sales}async function genData(){let t=await fetch("http://localhost:8000/api/orders/"),e=await t.json(),a=await fetch("http://localhost:8000/api/order_details/"),o=await a.json();document.getElementById("dl-data").onclick=function(){var t=XLSX.utils.json_to_sheet(e.orders),a=XLSX.utils.json_to_sheet(o.order_details),l=XLSX.utils.book_new();XLSX.utils.book_append_sheet(l,t,"ORDERS"),XLSX.utils.book_append_sheet(l,a,"ORDER_DETAILS"),XLSX.writeFile(l,"qpos_data.xlsx")}}function updateClock(){var t=new Date,e=t.getDay(),a=t.getMonth(),o=t.getDate(),l=t.getFullYear(),s=t.getHours(),n=t.getMinutes(),i="AM";0==s&&(s=12),s>12&&(s-=12,i="PM"),Number.prototype.pad=function(t){for(var e=this.toString();e.length<t;e=0+e);return e};for(var r=["hour","minutes","period","dayname","daynum","month","year"],d=[s.pad(2),n.pad(2),i,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e],o.pad(2),["January","February","March","April","May","June","July","August","September","October","November","December"][a],l],c=0;c<r.length;c++)document.getElementById(r[c]).firstChild.nodeValue=d[c]}function initClock(){updateClock(),window.setInterval("updateClock()",1)}function userToggle(){document.querySelector(".user-settings").classList.toggle("active")}loadData(),genData(),initClock();const list=document.querySelectorAll(".list-nav");function activeLink(){list.forEach(t=>t.classList.remove("active")),this.classList.add("active")}list.forEach(t=>t.addEventListener("click",activeLink));